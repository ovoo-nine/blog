import{q as ae,u as Y,y as re,N as _,v as T,b as N,B as P,_ as ie,c as W,k as Le,r as Q,a0 as Ce,a1 as He,F as Ae,X as ee,a2 as j,I as U,a3 as Se,A as Oe,H as xe,a4 as Te,a5 as Ne,a6 as Pe,a7 as Ie,a8 as De,a9 as Me,aa as ke,ab as Fe,ac as Ve,ad as je,ae as Re,af as Ze,ag as qe}from"./chunks/framework.1d4697e5.js";import{u as Be,t as te}from"./chunks/theme.179b25f8.js";/*! medium-zoom 1.0.8 | MIT License | https://github.com/francoischalifour/medium-zoom */var w=Object.assign||function(o){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(o[d]=n[d])}return o},V=function(t){return t.tagName==="IMG"},$e=function(t){return NodeList.prototype.isPrototypeOf(t)},R=function(t){return t&&t.nodeType===1},oe=function(t){var n=t.currentSrc||t.src;return n.substr(-4).toLowerCase()===".svg"},ne=function(t){try{return Array.isArray(t)?t.filter(V):$e(t)?[].slice.call(t).filter(V):R(t)?[t].filter(V):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(V):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},Ue=function(t){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=t,n},Ye=function(t){var n=t.getBoundingClientRect(),d=n.top,u=n.left,S=n.width,O=n.height,g=t.cloneNode(),I=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,b=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return g.removeAttribute("id"),g.style.position="absolute",g.style.top=d+I+"px",g.style.left=u+b+"px",g.style.width=S+"px",g.style.height=O+"px",g.style.transform="",g},H=function(t,n){var d=w({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(t,d);var u=document.createEvent("CustomEvent");return u.initCustomEvent(t,d.bubbles,d.cancelable,d.detail),u},We=function o(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=window.Promise||function(a){function r(){}a(r,r)},u=function(a){var r=a.target;if(r===k){y();return}v.indexOf(r)!==-1&&G({target:r})},S=function(){if(!(L||!e.original)){var a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(K-a)>s.scrollOffset&&setTimeout(y,150)}},O=function(a){var r=a.key||a.keyCode;(r==="Escape"||r==="Esc"||r===27)&&y()},g=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=a;if(a.background&&(k.style.background=a.background),a.container&&a.container instanceof Object&&(r.container=w({},s.container,a.container)),a.template){var m=R(a.template)?a.template:document.querySelector(a.template);r.template=m}return s=w({},s,r),v.forEach(function(c){c.dispatchEvent(H("medium-zoom:update",{detail:{zoom:l}}))}),l},I=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return o(w({},s,a))},b=function(){for(var a=arguments.length,r=Array(a),m=0;m<a;m++)r[m]=arguments[m];var c=r.reduce(function(i,f){return[].concat(i,ne(f))},[]);return c.filter(function(i){return v.indexOf(i)===-1}).forEach(function(i){v.push(i),i.classList.add("medium-zoom-image")}),M.forEach(function(i){var f=i.type,h=i.listener,C=i.options;c.forEach(function(z){z.addEventListener(f,h,C)})}),l},D=function(){for(var a=arguments.length,r=Array(a),m=0;m<a;m++)r[m]=arguments[m];e.zoomed&&y();var c=r.length>0?r.reduce(function(i,f){return[].concat(i,ne(f))},[]):v;return c.forEach(function(i){i.classList.remove("medium-zoom-image"),i.dispatchEvent(H("medium-zoom:detach",{detail:{zoom:l}}))}),v=v.filter(function(i){return c.indexOf(i)===-1}),l},se=function(a,r){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v.forEach(function(c){c.addEventListener("medium-zoom:"+a,r,m)}),M.push({type:"medium-zoom:"+a,listener:r,options:m}),l},me=function(a,r){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v.forEach(function(c){c.removeEventListener("medium-zoom:"+a,r,m)}),M=M.filter(function(c){return!(c.type==="medium-zoom:"+a&&c.listener.toString()===r.toString())}),l},X=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=a.target,m=function(){var i={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},f=void 0,h=void 0;if(s.container)if(s.container instanceof Object)i=w({},i,s.container),f=i.width-i.left-i.right-s.margin*2,h=i.height-i.top-i.bottom-s.margin*2;else{var C=R(s.container)?s.container:document.querySelector(s.container),z=C.getBoundingClientRect(),Z=z.width,pe=z.height,fe=z.left,ge=z.top;i=w({},i,{width:Z,height:pe,left:fe,top:ge})}f=f||i.width-s.margin*2,h=h||i.height-s.margin*2;var x=e.zoomedHd||e.original,ve=oe(x)?f:x.naturalWidth||f,he=oe(x)?h:x.naturalHeight||h,F=x.getBoundingClientRect(),ye=F.top,ze=F.left,q=F.width,B=F.height,be=Math.min(Math.max(q,ve),f)/q,Ee=Math.min(Math.max(B,he),h)/B,$=Math.min(be,Ee),_e=(-ze+(f-q)/2+s.margin+i.left)/$,we=(-ye+(h-B)/2+s.margin+i.top)/$,J="scale("+$+") translate3d("+_e+"px, "+we+"px, 0)";e.zoomed.style.transform=J,e.zoomedHd&&(e.zoomedHd.style.transform=J)};return new d(function(c){if(r&&v.indexOf(r)===-1){c(l);return}var i=function Z(){L=!1,e.zoomed.removeEventListener("transitionend",Z),e.original.dispatchEvent(H("medium-zoom:opened",{detail:{zoom:l}})),c(l)};if(e.zoomed){c(l);return}if(r)e.original=r;else if(v.length>0){var f=v;e.original=f[0]}else{c(l);return}if(e.original.dispatchEvent(H("medium-zoom:open",{detail:{zoom:l}})),K=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,L=!0,e.zoomed=Ye(e.original),document.body.appendChild(k),s.template){var h=R(s.template)?s.template:document.querySelector(s.template);e.template=document.createElement("div"),e.template.appendChild(h.content.cloneNode(!0)),document.body.appendChild(e.template)}if(e.original.parentElement&&e.original.parentElement.tagName==="PICTURE"&&e.original.currentSrc&&(e.zoomed.src=e.original.currentSrc),document.body.appendChild(e.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),e.original.classList.add("medium-zoom-image--hidden"),e.zoomed.classList.add("medium-zoom-image--opened"),e.zoomed.addEventListener("click",y),e.zoomed.addEventListener("transitionend",i),e.original.getAttribute("data-zoom-src")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("srcset"),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.removeAttribute("loading"),e.zoomedHd.src=e.zoomed.getAttribute("data-zoom-src"),e.zoomedHd.onerror=function(){clearInterval(C),console.warn("Unable to reach the zoom image target "+e.zoomedHd.src),e.zoomedHd=null,m()};var C=setInterval(function(){e.zoomedHd.complete&&(clearInterval(C),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",y),document.body.appendChild(e.zoomedHd),m())},10)}else if(e.original.hasAttribute("srcset")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.removeAttribute("loading");var z=e.zoomedHd.addEventListener("load",function(){e.zoomedHd.removeEventListener("load",z),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",y),document.body.appendChild(e.zoomedHd),m()})}else m()})},y=function(){return new d(function(a){if(L||!e.original){a(l);return}var r=function m(){e.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(e.zoomed),e.zoomedHd&&document.body.removeChild(e.zoomedHd),document.body.removeChild(k),e.zoomed.classList.remove("medium-zoom-image--opened"),e.template&&document.body.removeChild(e.template),L=!1,e.zoomed.removeEventListener("transitionend",m),e.original.dispatchEvent(H("medium-zoom:closed",{detail:{zoom:l}})),e.original=null,e.zoomed=null,e.zoomedHd=null,e.template=null,a(l)};L=!0,document.body.classList.remove("medium-zoom--opened"),e.zoomed.style.transform="",e.zoomedHd&&(e.zoomedHd.style.transform=""),e.template&&(e.template.style.transition="opacity 150ms",e.template.style.opacity=0),e.original.dispatchEvent(H("medium-zoom:close",{detail:{zoom:l}})),e.zoomed.addEventListener("transitionend",r)})},G=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=a.target;return e.original?y():X({target:r})},ce=function(){return s},le=function(){return v},ue=function(){return e.original},v=[],M=[],L=!1,K=0,s=n,e={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?s=t:(t||typeof t=="string")&&b(t),s=w({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},s);var k=Ue(s.background);document.addEventListener("click",u),document.addEventListener("keyup",O),document.addEventListener("scroll",S),window.addEventListener("resize",y);var l={open:X,close:y,toggle:G,update:g,clone:I,attach:b,detach:D,on:se,off:me,getOptions:ce,getImages:le,getZoomedImage:ue};return l};function Xe(o,t){t===void 0&&(t={});var n=t.insertAt;if(!(!o||typeof document>"u")){var d=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css",n==="top"&&d.firstChild?d.insertBefore(u,d.firstChild):d.appendChild(u),u.styleSheet?u.styleSheet.cssText=o:u.appendChild(document.createTextNode(o))}}var Ge=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";Xe(Ge);const Ke=We,Je=":not(a) > img:not(.image-src, .visitor, .vp-sponsor-grid-image)",Qe=Symbol("medium-zoom"),et=(o,t)=>{const n=Ke();n.refresh=(d=Je)=>{n.detach(),n.attach(d)},o.provide(Qe,n),ae(()=>t.route.path,()=>setTimeout(()=>n.refresh()))},tt={key:0,class:"visitor",src:"https://visitor-badge.laobi.icu/badge?page_id=ovoo-nine.blog",onerror:"this.style.display='none'"},ot=Y({__name:"MNavVisitor",setup(o){const t=re("DEV");return(n,d)=>_(t)?P("",!0):(T(),N("img",tt))}});const nt=ie(ot,[["__scopeId","data-v-4767b743"]]),at={key:0,class:"m-doc-footer"},rt={class:"m-doc-footer-message"},it=["src"],dt={key:1},st={key:0,class:"m-doc-footer-copyright"},mt=Y({__name:"MDocFooter",setup(o){const t=re("DEV"),{theme:n}=W(),d=Le(),{hasSidebar:u}=Be(),S=Q(()=>d.path.replace("/blog","")),O=Q(()=>{const{footer:g={}}=n.value;return!t||g.message||g.copyright});return(g,I)=>{var b,D;return O.value?Ce((T(),N("div",at,[Ae("div",rt,[_(t)?P("",!0):(T(),N("img",{key:0,class:"visitor",src:`https://visitor-badge.laobi.icu/badge?page_id=ovoo-nine.blog.${S.value}`,title:"当前页面累计访问数",onerror:"this.style.display='none'"},null,8,it)),(b=_(n).footer)!=null&&b.message?(T(),N("p",dt,ee(_(n).footer.message),1)):P("",!0)]),(D=_(n).footer)!=null&&D.copyright?(T(),N("p",st,ee(_(n).footer.copyright),1)):P("",!0)],512)),[[He,_(u)]]):P("",!0)}}});const ct=ie(mt,[["__scopeId","data-v-10e429f0"]]);let E;const lt={extends:te,Layout:()=>{var n;const o={},{frontmatter:t}=W();return(n=t.value)!=null&&n.layoutClass&&(o.class=t.value.layoutClass),j(te.Layout,o,{"nav-bar-title-after":()=>j(nt),"doc-after":()=>j(ct)})},enhanceApp({app:o,router:t}){et(o,t),o.provide("DEV",!1),typeof window<"u"&&ae(()=>t.route.data.relativePath,()=>ut(location.pathname==="/"),{immediate:!0})}};if(typeof window<"u"){const o=navigator.userAgent.toLowerCase();o.includes("chrome")?document.documentElement.classList.add("browser-chrome"):o.includes("firefox")?document.documentElement.classList.add("browser-firefox"):o.includes("safari")&&document.documentElement.classList.add("browser-safari")}function ut(o){if(o){if(E)return;E=document.createElement("style"),E.innerHTML=`
    :root {
      animation: rainbow 12s linear infinite;
    }`,document.body.appendChild(E)}else{if(!E)return;E.remove(),E=void 0}}function de(o){if(o.extends){const t=de(o.extends);return{...t,...o,async enhanceApp(n){t.enhanceApp&&await t.enhanceApp(n),o.enhanceApp&&await o.enhanceApp(n)}}}return o}const A=de(lt),pt=Y({name:"VitePressApp",setup(){const{site:o}=W();return Oe(()=>{xe(()=>{document.documentElement.lang=o.value.lang,document.documentElement.dir=o.value.dir})}),Te(),Ne(),Pe(),A.setup&&A.setup(),()=>j(A.Layout)}});async function ft(){const o=vt(),t=gt();t.provide(Ie,o);const n=De(o.route);return t.provide(Me,n),t.component("Content",ke),t.component("ClientOnly",Fe),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),A.enhanceApp&&await A.enhanceApp({app:t,router:o,siteData:Ve}),{app:t,router:o,data:n}}function gt(){return je(pt)}function vt(){let o=U,t;return Re(n=>{let d=Ze(n);return d?(o&&(t=d),(o||t===d)&&(d=d.replace(/\.js$/,".lean.js")),U&&(o=!1),qe(()=>import(d),[])):null},A.NotFound)}U&&ft().then(({app:o,router:t,data:n})=>{t.go().then(()=>{Se(t.route,n.site),o.mount("#app")})});export{ft as createApp};
